{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"50839747-8e280c8a680bf22042cf2c364\"\n\nexport function getImagesByQuery(query) {\n    const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true\n}\n     return axios.get(\"https://pixabay.com/api/\", {params}).then(res => res.data)\n}\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst loader = document.querySelector(\".loader\")\n\nlet lightbox = null;\n\nexport function createGallery(images) {\n    return images.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads}) => `\n        <li>\n            <a href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" width=\"300\" alt=\"${tags}\">\n                <ul>\n                    <li>\n                        <h2>Likes</h2>\n                        <p>${likes}</p>\n                    </li>\n                    <li>\n                        <h2>Views</h2>\n                        <p>${views}</p>\n                    </li>\n                    <li>\n                        <h2>Comments</h2>\n                        <p>${comments}</p>\n                    </li>\n                    <li>\n                        <h2>Downloads</h2>\n                        <p>${downloads}</p>\n                    </li>\n                </ul>\n            </a>\n        </li>\n    `).join(\"\")\n}\n\nexport function clearGallery(galleryElement) {\n  galleryElement.innerHTML = '';\n}\n\nexport function refreshLightbox() {\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\")\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from \"./js/pixabay-api\"\nimport { createGallery, clearGallery, refreshLightbox, showLoader, hideLoader } from \"./js/render-functions\";\n\nconst form = document.querySelector(\".form\")\nconst input = document.querySelector('[name=\"search-text\"]')\nconst list = document.querySelector(\".gallery\")\n\nform.addEventListener(\"submit\", handleSubmit)\n\nfunction handleSubmit(event) {\n    event.preventDefault()\n    const query = input.value.trim();\n\n    console.log(`[query]: \"${query}\"`);\n\n    if (query === \"\") {\n        iziToast.warning({\n        title: \"Warning\",\n        message: 'Please enter your query',\n        position: 'topCenter',\n        });\n        return;\n    }\n\n    clearGallery(list);\n\n    showLoader()\n\n    getImagesByQuery(query).then(data => {\n        if (data.hits.length > 0) {\n            console.log(data);\n            list.innerHTML = createGallery(data.hits)\n            refreshLightbox();\n        } else {\n            iziToast.error({\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n            });\n        }\n    })\n    .catch(() => {\n        iziToast.error({\n                message: 'Oops, something went south',\n            });\n    })\n    .finally(() => {\n        hideLoader();\n        // input.value = \"\";\n    })\n}\n\nrefreshLightbox();\n"],"names":["API_KEY","getImagesByQuery","query","params","axios","res","loader","lightbox","createGallery","images","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","galleryElement","refreshLightbox","SimpleLightbox","showLoader","hideLoader","form","input","list","handleSubmit","event","iziToast","data"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,MAAMC,EAAS,CACf,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACK,OAAOE,EAAM,IAAI,2BAA4B,CAAC,OAAAD,CAAM,CAAC,EAAE,KAAKE,GAAOA,EAAI,IAAI,CAChF,CCVA,MAAMC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,KAER,SAASC,EAAcC,EAAQ,CAClC,OAAOA,EAAO,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAAM;AAAA;AAAA,uBAE5EL,CAAa;AAAA,4BACRD,CAAY,sBAAsBE,CAAI;AAAA;AAAA;AAAA;AAAA,6BAIrCC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAK;AAAA;AAAA;AAAA;AAAA,6BAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,6BAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,KAKjC,EAAE,KAAK,EAAE,CACd,CAEO,SAASC,EAAaC,EAAgB,CAC3CA,EAAe,UAAY,EAC7B,CAEO,SAASC,GAAkB,CAC3BZ,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIa,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASgB,GAAa,CACzBhB,EAAO,UAAU,IAAI,QAAQ,CACjC,CClDA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,sBAAsB,EACrDC,EAAO,SAAS,cAAc,UAAU,EAE9CF,EAAK,iBAAiB,SAAUG,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAgB,EACtB,MAAMzB,EAAQsB,EAAM,MAAM,KAAI,EAI9B,GAFA,QAAQ,IAAI,aAAatB,CAAK,GAAG,EAE7BA,IAAU,GAAI,CACd0B,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,0BACT,SAAU,WAClB,CAAS,EACD,MACH,CAEDX,EAAaQ,CAAI,EAEjBJ,EAAY,EAEZpB,EAAiBC,CAAK,EAAE,KAAK2B,GAAQ,CAC7BA,EAAK,KAAK,OAAS,GACnB,QAAQ,IAAIA,CAAI,EAChBJ,EAAK,UAAYjB,EAAcqB,EAAK,IAAI,EACxCV,KAEAS,EAAS,MAAM,CACX,QAAS,0EACzB,CAAa,CAEb,CAAK,EACA,MAAM,IAAM,CACTA,EAAS,MAAM,CACP,QAAS,4BACzB,CAAa,CACb,CAAK,EACA,QAAQ,IAAM,CACXN,GAER,CAAK,CACL,CAEAH,EAAiB"}